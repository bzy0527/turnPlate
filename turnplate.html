<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>turnplate</title>
    <link rel="stylesheet" href="turnplate.css">
    <script src="https://lc.dbazure.cn/dbfx/dbfx.js"></script>
    <script src="https://lc.dbazure.cn/dbfxui/dbfx.web.controls.js"></script>
    <script src="https://lc.dbazure.cn/dbfx/dbfx.commodel.js"></script>

    <script src="https://lc.dbazure.cn/dbfx/dbfx.js"></script>
    <script src="https://lc.dbazure.cn/dbfx/dbfx.data.js"></script>
    <script src="https://lc.dbazure.cn/dbfx/dbfx.commodel.js"></script>
    <script src="https://lc.dbazure.cn/dbfx/dbfx.serializer.js"></script>
    <script src="https://lc.dbazure.cn/dbfx/dbfx.net.js"></script>
    <script src="https://lc.dbazure.cn/dbfx/dbfx.resources.js"></script>

    <script src="https://lc.dbazure.cn/dbfx/dbfx.commodel.js"></script>

    <script src="https://lc.dbazure.cn/dbfx/dbfx.serializer.js"></script>
    <script src="https://lc.dbazure.cn/dbfxui/dbfx.web.controls.js"></script>
    <script src="https://lc.dbazure.cn/dbfxui/dbfx.web.layoutcontrols.js"></script>
    <script src="https://lc.dbazure.cn/dbfxui/dbfx.web.navigation.js"></script>
    <script src="turnplate.js"></script>

</head>
<body>
    <div id="layoutroot" style="height:500px;width:500px;border:1px solid green;background-color: #ffd2bc">
        <!--<canvas id="wheelcanvas" width="422px" height="422px" style="border:1px solid #d3d3d3;">-->
            <!--您的浏览器不支持Canvas！！-->
        <!--</canvas>-->
    </div>
    <button type="button" value="旋转" onclick="rotate()" style="margin-left: 20px;background-color: #b3d4fc;width: 70px;height: 30px;font-size: 15px" >旋转
    </button>
    <button type="button" value="停止" onclick="stop()" style="margin-left: 20px;background-color: #b3d4fc;width: 70px;height: 30px;font-size: 15px" >停止
    </button>

    <div style="width: 900px;height: 300px;border: 2px solid cornflowerblue;overflow: auto;margin-top: 10px">
        <b>控制台输出：</b>
        <p class="print" style="display: block;height: 300px;width: 900px;">
        </p>
    </div>

    <script>


        DBFX.Web.Draw.Tools = {
            print: function (t) {
                //TODO:平台要打开注释,测试要注释这句代码
                // return;

                var printArr = new Array();
                var date = new Date();  //创建对象
                var y = date.getFullYear();     //获取年份
                var m = date.getMonth() + 1;   //获取月份  返回0-11
                var d = date.getDate(); // 获取日
                // var w = date.getDay();   //获取星期几  返回0-6   (0=星期天)
                var h = date.getHours();
                var minute = date.getMinutes()
                var s = date.getSeconds();
                var time = y + "-" + m + "-" + d + "   " + h + ":" + minute + ":" + s;
                printArr.push(time);
                printArr.push('>>>>>>>>>' + t);
                printArr.push('<br>');

                var p = document.getElementsByClassName("print")[0];
                printArr.forEach(function (t2) {
                    p.innerHTML += t2;
                });
            },
            //返回一定范围内的随机整数
            randomInt:function (n,m) {
                var random = Math.floor(Math.random()*(m-n+1)+n);
                return random;
            }
        }

        var awards = [{
            text:"9积分",
            color:"#FFF4D6",
            imgSrc:"./1.png",
            fontColor:"#5b2aff",
            fontFamily:"Microsoft YaHei",
            fontStyle:"normal"
        },{
            text:"5元代金券",
            color:"#FF6F55",
            imgSrc:"./2.png"
        },{
            text:"水壶",
            color:"#7AFF79",
            imgSrc:"./1.png"
        },{
            text:"冰箱",
            color:"#FF51DD",
            imgSrc:"./2.png"
        },{
            text:"电视",
            color:"#4C2AFF",
            imgSrc:"./1.png"
        },{
            text:"999积分",
            color:"#FF711E",
            imgSrc:"./2.png"
        },{
            text:"10元代金券",
            color:"#FF6F55",
            imgSrc:"./2.png"
        }
        ];

        try{
            var di = document.getElementById("layoutroot");
            var turnPlate = new DBFX.Web.Controls.TurnPlate("TurnPlate");
            di.appendChild(turnPlate.VisualElement);

            turnPlate.FontStyle = "italic";
            // turnPlate.FontSize = "8px";
            // turnPlate.FontFamily = "SimSun";


            turnPlate.RotateStart = function () {
                turnPlate.CanRotate = true;
                // turnPlate.Enabled = false;
                turnPlate.SelectedIndex = 0;
                console.log("djfajshdjkfasdf");

                turnPlate.startAnimate();
            }

            turnPlate.RotateStop = function () {
                turnPlate.CanRotate = true;
                turnPlate.Enabled = true;

                // turnPlate.startAnimate();
            }

            turnPlate.Width = "80%";
            turnPlate.Height = "80%";


            // turnPlate.textColor = "blue";

//            turnPlate.awardIndex = 3;
//             turnPlate.drawWheel();

            turnPlate.ItemSource = awards;


        }catch (error){
            DBFX.Web.Draw.Tools.print(error);
        }

        function rotate() {
            try{



            }catch (error){
                DBFX.Web.Draw.Tools.print(error);
            }
        }

        function stop() {
            try{
                // turnPlate.stopRotate();

                turnPlate.stopAnimate();
            }catch (error){
                DBFX.Web.Draw.Tools.print(error);
            }
        }


        var date = +new Date();
        console.log("5" == 5);
        console.log(window.supportedCSS);


    </script>
</body>

</html>